---
layout:      post
title:       "java 与 C++ 的区别"
subtitle:    "代码笔记第一话"
date:        2017-06-29
author:      "XiaoYu"
header-img:  "img/post-code-beauty.jpg"
catalog:     true
tags:
    - Code
    - 经验 
---

>前段时间有人问我一个面试的题目——java与C++的区别有哪些？而且是不考虑`JVM`的情况下。在这里做个总结。（照片上是我的女神，永远），其实是找不到图片了。

# 先说C++

C++继承于C，在一开始学的时候，发现除了命令行输入和输出语句不同之外，语法规则都是相同的。而两者最大的区别就是C++是面向对象的语言，何为面向对象？指的就是将程序中所要处理的对象用它的属性表示，这样一个结构就代表了这个对象，不同与结构体的是——类不仅包含属性变量，还包含属性函数。也就是说，类是支持数据封装的工具，对象是数据封装的实现，同时，C++实现了继承和多态，这使得程序编写效率大大提高。

# 再看Java

Java是必须要求使用类的，当我们用`Eclipse`等编译器时，往往会给定一个`Class`。从Java的产生来看，它是为了解决嵌入式系统的问题而产生的，因为C++消耗资源太大，不适合小型设备，开发者想到了“字节码”这个概念，最后选择去掉C++中不太实用及影响安全的成分，并结合嵌入式系统的实时性要求，开发了一种称为Oak的面向对象语言。这就是Java的前身。

# 规则和设计上的不同

以下来自`wikipedia`

C++ | Java
--------- | -------------
除了一些比较少见的情况之外和C语言兼容 | 没有对任何之前的语言向前兼容。但在语法上受 C/C++ 的影响很大
一次编写多处编译 | 一次编写多处运行
允许过程式程序设计和面向对象程序设计 | 必须使用面向对象的程序设计方式
允许直接调用本地的系统库 | 要通过JNI调用, 或者 JNA
能直接使用底层系统接口 | 在一个保护模式下的虚拟机中运行
只提供对象的类型和类型名 | 是反射的, 允许元程序设计和运行时的动态生成代码
有多种二进制兼容标准 (例如:微软和Itanium/GNU) | 一种二进制兼容标准，允许运行时库的正确性检查
可选的自动边界检查. (例如: vector 和 string 这两个容器的 at() 方法) | 一般都有做边界检查。HotSpot (java)(Sun 的虚拟机实现) 可以去掉边界检查
支持本地的无符号数学运算 | 不支持本地的无符号数学运算
支持函数指针，函数对象，lambda（C++11）和接口 | 没有函数指针机制。替代的概念是接口，Adapter 和 Listener也是被广泛使用的

C++ 是一门强大的语言，设计用在系统程序设计方面。Java语言是设计成简单易用易学习，并有一个强大的跨平台的库。Java库对一个库来说相当的大。但Java并不会提供所在平台的所有特性和接口。C++库简单健壮，提供容器和关联数组的支持。

# 语言特性

## 语法

1. Java是上下文无关文法，而C++就很复杂。
2. 在 C++ 的声明中,一个类名可以用来声明一个此类对象的值. Java 里没办法做到这点. 在Java里对象不是值. 在 Java 的声明中,一个类名声明的是对此类的一个对象的引用. 而在 C++ 里与之等价的做法是用 "*" 来声明一个指针。
3. Java没有指针的概念，但有好的内存管理，这增加了安全性。

## 语义

1. C++ 允许给函数/方法的参数设置缺省值, Java 不提供这个特性. 但是方法重载可以达到同样的效果。
2. Java 内建的类型在字节宽度和取值范围上是被虚拟机定义好的; 在 C++ 里, 内建的类型有定义一个最小取值范围, 但是其他的部分(字节宽度)可以被映射成具体平台上支持的原生类型。
3. 还有很多

# 性能

想运行一个编译好的 Java 程序，计算机上要运行JVM；而编译好的 C++ 程序不需要额外的应用。比较早期的 Java 版本在性能上比静态编译的语言如 C++ 差得很多，这是因为用 C++ 是直接编译成一些机器指令，而当 Java 编译成字节码以后用 JVM 解释执行的时候又牵涉了不少额外的机器指令。

# 总结

尽管这两种语言不是自己主要使用的，但却是Code中不可避免的，作为编程语言中的大头，我还是应该了解更多。这篇文章也提到了面向对象这个概念，回答了一个女生的问题。






